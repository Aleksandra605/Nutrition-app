{"version":3,"file":"static/js/833.08b5adcf.chunk.js","mappings":"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","sources":["webpack://nutrition/./src/components/planner/mealSwiper/_mealSwiper.module.scss?b380","components/planner/mealSwiper/MealSwiper.js","webpack://nutrition/./src/components/planner/plannerList/_plannerList.module.scss?5b6b","components/planner/plannerList/PlannerList.js","redux/food/food-operations.js","redux/planner/planner-operations.js","redux/planner/planner-selectors.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"swiper\":\"_mealSwiper_swiper__J6JmF\",\"slide\":\"_mealSwiper_slide__frAeQ\",\"card\":\"_mealSwiper_card__BHvo6\",\"card__image\":\"_mealSwiper_card__image__IDbDi\",\"card__content\":\"_mealSwiper_card__content__xHUjv\",\"content__h4\":\"_mealSwiper_content__h4__sCfmH\",\"ingredientsList\":\"_mealSwiper_ingredientsList__8712U\",\"ingredientsList__item\":\"_mealSwiper_ingredientsList__item__gLuYF\",\"card__link\":\"_mealSwiper_card__link__4hUXU\",\"additionalInfo\":\"_mealSwiper_additionalInfo__XehTt\",\"nutrients_list\":\"_mealSwiper_nutrients_list__o8t+W\",\"nutrientsList__item\":\"_mealSwiper_nutrientsList__item__Hq4m6\",\"spanBox\":\"_mealSwiper_spanBox__R47vV\",\"buttonsBox\":\"_mealSwiper_buttonsBox__-veY8\",\"button\":\"_mealSwiper_button__gGsGt\",\"button_add\":\"_mealSwiper_button_add__J5m97\"};","import { connect } from 'react-redux';\r\nimport { useParams } from 'react-router-dom';\r\nimport { Swiper, SwiperSlide } from 'swiper/react';\r\nimport { Navigation, Keyboard } from 'swiper';\r\nimport 'swiper/swiper.min.css';\r\nimport 'swiper/css/keyboard';\r\nimport 'swiper/css/bundle';\r\nimport 'swiper/css/navigation';\r\nimport 'swiper/css/pagination';\r\nimport { nanoid } from 'nanoid';\r\n\r\nimport { addToShoppingList } from '../../../redux/food/food-operations';\r\nimport { removeFromPlanner } from '../../../redux/planner/planner-operations';\r\n\r\nimport s from './_mealSwiper.module.scss';\r\nimport SvgGenerator from '../../svgGenerator/SvgGenerator';\r\n\r\nfunction MealSwiper({\r\n  recipes,\r\n  addToShoppingList,\r\n  removeFromPlanner,\r\n  mealType,\r\n}) {\r\n  let params = useParams();\r\n\r\n  return (\r\n    <>\r\n      <Swiper\r\n        navigation={true}\r\n        rewind={true}\r\n        modules={[Navigation, Keyboard]}\r\n        effect=\"fade\"\r\n        autoHeight={true}\r\n        slidesPerView=\"2\"\r\n        className={s.swiper}\r\n        keyboard={{\r\n          enabled: true,\r\n          onlyInViewport: false,\r\n          pageUpDown: true,\r\n        }}\r\n        initialSlide={0}\r\n      >\r\n        {recipes ? (\r\n          recipes.map((recipe, index) => (\r\n            <SwiperSlide key={nanoid()} className={s.slide}>\r\n              <div className={s.card}>\r\n                <img\r\n                  src={recipe.images.SMALL.url}\r\n                  alt={recipe.recipeLabel}\r\n                  className={s.card__image}\r\n                />\r\n                <div className={s.additionalInfo}>\r\n                  <ul className={s.nutrients_list}>\r\n                    {recipe.totalNutrients.map((item) => (\r\n                      <li className={s.nutrientsList__item} key={nanoid()}>\r\n                        <span>{item.label}</span>\r\n                        <span>\r\n                          {Number(item.quantity).toFixed(0)} {item.unit}\r\n                        </span>\r\n                      </li>\r\n                    ))}\r\n                  </ul>\r\n                  <div className={s.buttonsBox}>\r\n                    <button\r\n                      className={s.button}\r\n                      onClick={() => {\r\n                        addToShoppingList(recipe.ingredients);\r\n                      }}\r\n                    >\r\n                      <SvgGenerator name=\"addToShoppingList\" />\r\n                    </button>\r\n                    <button\r\n                      className={s.button}\r\n                      onClick={() => {\r\n                        removeFromPlanner({\r\n                          date: params.date,\r\n                          uri: recipe.uri,\r\n                          mealType,\r\n                        });\r\n                      }}\r\n                    >\r\n                      <SvgGenerator name=\"icon__delete\" />\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n                <div className={s.card__content}>\r\n                  <h4 className={s.content__h4}>{recipe.recipeLabel}</h4>\r\n                  <ul className={s.ingredientsList}>\r\n                    {recipe.ingredientList.map((el) => (\r\n                      <li className={s.ingredientsList__item} key={nanoid()}>\r\n                        {el}\r\n                      </li>\r\n                    ))}\r\n                  </ul>\r\n                  <div className={s.spanBox}>\r\n                    <span>{`${Math.round(recipe.calories)} kcal.`}</span>\r\n                    <span>{`${Math.round(recipe.totalWeight)} g.`}</span>\r\n                    <span>{`${recipe.cuisineType} cuisine`}</span>\r\n                    {recipe.totalTime !== 0 ? (\r\n                      <span>{`${recipe.totalTime} min.`}</span>\r\n                    ) : null}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </SwiperSlide>\r\n          ))\r\n        ) : (\r\n          <button className={s.button_add}>\r\n            <SvgGenerator name=\"planner__add\" />\r\n            Add recipe\r\n          </button>\r\n        )}\r\n      </Swiper>\r\n    </>\r\n  );\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  addToShoppingList: (data) => {\r\n    return dispatch(addToShoppingList(data));\r\n  },\r\n  removeFromPlanner: (data) => {\r\n    return dispatch(removeFromPlanner(data));\r\n  },\r\n});\r\n\r\nexport default connect(null, mapDispatchToProps)(MealSwiper);\r\n","// extracted by mini-css-extract-plugin\nexport default {\"plannerList\":\"_plannerList_plannerList__IYicJ\",\"h3\":\"_plannerList_h3__sRJu6\",\"recipesList\":\"_plannerList_recipesList__GPd8x\",\"recipesList__item\":\"_plannerList_recipesList__item__LeoBo\"};","import { useState, useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { useParams } from 'react-router-dom';\r\n\r\nimport { getPlannerList } from '../../../redux/planner/planner-selectors';\r\nimport MealSwiper from '../mealSwiper/MealSwiper';\r\nimport s from './_plannerList.module.scss';\r\n\r\nconst mealsList = ['Breakfast', 'Lunch', 'Snack', 'Teatime', 'Dinner'];\r\n\r\nfunction PlannerList({ plannerList }) {\r\n  const [data, setData] = useState(null);\r\n  let params = useParams();\r\n\r\n  useEffect(() => {\r\n    setData(plannerList.filter((el) => el.date === params.date));\r\n  }, [params, plannerList]);\r\n\r\n  return (\r\n    <ul className={s.plannerList}>\r\n      {mealsList.map((el) => (\r\n        <li key={el}>\r\n          <h3 className={s.h3}>{el}</h3>\r\n          <MealSwiper\r\n            recipes={data?.find((x) => x.mealType === el)?.meals}\r\n            mealType={el}\r\n          />\r\n        </li>\r\n      ))}\r\n    </ul>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  plannerList: getPlannerList(state),\r\n});\r\n\r\nexport default connect(mapStateToProps)(PlannerList);\r\n","import axios from 'axios';\r\n\r\nimport {\r\n  addToShoppingListRequest,\r\n  addToShoppingListSuccess,\r\n  removeFromShoppingListRequest,\r\n  removeFromShoppingListSuccess,\r\n  fetchShoppingListRequest,\r\n  fetchShoppingListSuccess,\r\n} from './food-actions';\r\n\r\naxios.defaults.baseURL = 'https://nutritionapp-1-t7373772.deta.app/api';\r\n\r\nconst token = {\r\n  set(token) {\r\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`;\r\n  },\r\n  unset() {\r\n    axios.defaults.headers.common.Authorization = '';\r\n  },\r\n};\r\n\r\nconst addToShoppingList = (data) => (dispatch) => {\r\n  dispatch(addToShoppingListRequest());\r\n\r\n  return axios\r\n    .post('/shoppingList/addToShoppingList', data)\r\n    .then(({ data }) => {\r\n      dispatch(addToShoppingListSuccess(data));\r\n    })\r\n    .catch((error) => console.log('Error from request >>>', error));\r\n};\r\n\r\nconst removeFromShoppingList = (id) => (dispatch) => {\r\n  dispatch(removeFromShoppingListRequest());\r\n\r\n  axios\r\n    .delete(`/shoppingList/${id}`)\r\n    .then(({ data }) => dispatch(removeFromShoppingListSuccess(data)))\r\n    .catch((error) => console.log(error));\r\n};\r\n\r\nconst fetchShoppingList = () => (dispatch, getState) => {\r\n  const {\r\n    auth: { token: persistedToken },\r\n  } = getState();\r\n\r\n  if (!persistedToken) {\r\n    return;\r\n  }\r\n\r\n  token.set(persistedToken);\r\n  dispatch(fetchShoppingListRequest);\r\n\r\n  return axios\r\n    .get('/shoppingList/getShoppingList')\r\n    .then(({ data }) => {\r\n      dispatch(fetchShoppingListSuccess(data));\r\n    })\r\n    .catch((error) => console.log('Error>>>', error));\r\n};\r\n\r\nexport { addToShoppingList, removeFromShoppingList, fetchShoppingList };\r\n","import axios from 'axios';\r\n\r\nimport Toastify from 'toastify-js';\r\nimport 'toastify-js/src/toastify.css';\r\n\r\nimport {\r\n  addToPlannerRequest,\r\n  addToPlannerSuccess,\r\n  // addToPlannerError,\r\n  fetchPlannerRequest,\r\n  fetchPlannerSuccess,\r\n  // fetchPlannerError,\r\n  removeFromPlannerRequest,\r\n  removeFromPlannerSuccess,\r\n  //removeFromPlannerError,\r\n} from './planner-actions';\r\n\r\naxios.defaults.baseURL = 'https://nutritionapp-1-t7373772.deta.app/api';\r\n\r\nconst toastifyOptions = {\r\n  text: 'Recipe added to planner',\r\n  className: 'success',\r\n  stopOnFocus: true,\r\n  autoClose: 5000,\r\n  style: {\r\n    background: 'rgba(154, 22, 46, 0.725)',\r\n  },\r\n};\r\n\r\nconst token = {\r\n  set(token) {\r\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`;\r\n  },\r\n  unset() {\r\n    axios.defaults.headers.common.Authorization = '';\r\n  },\r\n};\r\n\r\n//.....................................................................\r\n\r\nconst addToPlanner = (data) => (dispatch, getState) => {\r\n  const {\r\n    auth: { token: persistedToken },\r\n  } = getState();\r\n\r\n  if (!persistedToken) {\r\n    return;\r\n  }\r\n\r\n  token.set(persistedToken);\r\n  dispatch(addToPlannerRequest());\r\n\r\n  return axios\r\n    .post('/planner/addItem', data)\r\n    .then(({ data }) => {\r\n      dispatch(addToPlannerSuccess(data));\r\n      Toastify(toastifyOptions).showToast();\r\n      return dispatch(addToPlannerSuccess);\r\n    })\r\n    .catch((error) => console.log(error));\r\n};\r\n\r\n//.....................................................................\r\n\r\nconst removeFromPlanner = (data) => (dispatch, getState) => {\r\n  const {\r\n    auth: { token: persistedToken },\r\n  } = getState();\r\n\r\n  if (!persistedToken) {\r\n    return;\r\n  }\r\n\r\n  token.set(persistedToken);\r\n\r\n  dispatch(removeFromPlannerRequest());\r\n  axios\r\n    .delete(`/planner/removeItem`, { data: data })\r\n    .then(({ data }) => dispatch(removeFromPlannerSuccess(data)))\r\n    .catch((error) => console.log(error));\r\n};\r\n\r\n//.....................................................................\r\n\r\nconst fetchPlanner = () => (dispatch, getState) => {\r\n  const {\r\n    auth: { token: persistedToken },\r\n  } = getState();\r\n\r\n  if (!persistedToken) {\r\n    return;\r\n  }\r\n\r\n  token.set(persistedToken);\r\n  dispatch(fetchPlannerRequest);\r\n\r\n  return axios\r\n    .get('/planner/getPlannerList')\r\n    .then(({ data }) => {\r\n      dispatch(fetchPlannerSuccess(data));\r\n    })\r\n    .catch((error) => console.log('Error>>>', error));\r\n};\r\n\r\nexport { addToPlanner, fetchPlanner, removeFromPlanner };\r\n","const getPlannerList = (state) => state.plannerList;\r\n\r\nexport { getPlannerList };\r\n"],"names":["connect","dispatch","addToShoppingList","data","removeFromPlanner","recipes","mealType","params","useParams","navigation","rewind","modules","Navigation","Keyboard","effect","autoHeight","slidesPerView","className","s","keyboard","enabled","onlyInViewport","pageUpDown","initialSlide","map","recipe","index","src","images","SMALL","url","alt","recipeLabel","totalNutrients","item","label","Number","quantity","toFixed","unit","nanoid","onClick","ingredients","SvgGenerator","name","date","uri","ingredientList","el","Math","round","calories","totalWeight","cuisineType","totalTime","mealsList","state","plannerList","getPlannerList","useState","setData","useEffect","filter","find","x","meals","axios","token","addToShoppingListRequest","then","addToShoppingListSuccess","catch","error","console","log","fetchShoppingList","getState","persistedToken","auth","fetchShoppingListRequest","fetchShoppingListSuccess","toastifyOptions","text","stopOnFocus","autoClose","style","background","addToPlanner","addToPlannerRequest","addToPlannerSuccess","Toastify","showToast","removeFromPlannerRequest","removeFromPlannerSuccess","fetchPlanner","fetchPlannerRequest","fetchPlannerSuccess"],"sourceRoot":""}