"use strict";(self.webpackChunknutrition=self.webpackChunknutrition||[]).push([[833],{2833:function(n,e,t){t.r(e),t.d(e,{default:function(){return F}});var r=t(885),a=t(2791),i=t(8687),s=t(7689),c=t(4527),o=t(7586),u=t(6605),l=(t(4676),t(4879),t(5257),t(4432),t(5880),t(5984)),d=t(1025),_=t(6478),p="_mealSwiper_swiper__J6JmF",f="_mealSwiper_slide__frAeQ",m="_mealSwiper_card__BHvo6",h="_mealSwiper_card__image__IDbDi",x="_mealSwiper_card__content__xHUjv",v="_mealSwiper_content__h4__sCfmH",g="_mealSwiper_ingredientsList__8712U",j="_mealSwiper_ingredientsList__item__gLuYF",L="_mealSwiper_additionalInfo__XehTt",S="_mealSwiper_nutrients_list__o8t+W",w="_mealSwiper_nutrientsList__item__Hq4m6",N="_mealSwiper_spanBox__R47vV",b="_mealSwiper_buttonsBox__-veY8",k="_mealSwiper_button__gGsGt",T="_mealSwiper_button_add__J5m97",Z=t(5223),y=t(184);var U=(0,i.$j)(null,(function(n){return{addToShoppingList:function(e){return n((0,d.AU)(e))},removeFromPlanner:function(e){return n((0,_.H3)(e))}}}))((function(n){var e=n.recipes,t=n.addToShoppingList,r=n.removeFromPlanner,a=n.mealType,i=(0,s.UO)();return(0,y.jsx)(y.Fragment,{children:(0,y.jsx)(o.tq,{navigation:!0,rewind:!0,modules:[u.W_,u.N1],effect:"fade",autoHeight:!0,slidesPerView:"2",className:p,keyboard:{enabled:!0,onlyInViewport:!1,pageUpDown:!0},initialSlide:0,children:e?e.map((function(n,e){return(0,y.jsx)(o.o5,{className:f,children:(0,y.jsxs)("div",{className:m,children:[(0,y.jsx)("img",{src:n.images.SMALL.url,alt:n.recipeLabel,className:h}),(0,y.jsxs)("div",{className:L,children:[(0,y.jsx)("ul",{className:S,children:n.totalNutrients.map((function(n){return(0,y.jsxs)("li",{className:w,children:[(0,y.jsx)("span",{children:n.label}),(0,y.jsxs)("span",{children:[Number(n.quantity).toFixed(0)," ",n.unit]})]},(0,l.x0)())}))}),(0,y.jsxs)("div",{className:b,children:[(0,y.jsx)("button",{className:k,onClick:function(){t(n.ingredients)},children:(0,y.jsx)(Z.Z,{name:"addToShoppingList"})}),(0,y.jsx)("button",{className:k,onClick:function(){r({date:i.date,uri:n.uri,mealType:a})},children:(0,y.jsx)(Z.Z,{name:"icon__delete"})})]})]}),(0,y.jsxs)("div",{className:x,children:[(0,y.jsx)("h4",{className:v,children:n.recipeLabel}),(0,y.jsx)("ul",{className:g,children:n.ingredientList.map((function(n){return(0,y.jsx)("li",{className:j,children:n},(0,l.x0)())}))}),(0,y.jsxs)("div",{className:N,children:[(0,y.jsx)("span",{children:"".concat(Math.round(n.calories)," kcal.")}),(0,y.jsx)("span",{children:"".concat(Math.round(n.totalWeight)," g.")}),(0,y.jsx)("span",{children:"".concat(n.cuisineType," cuisine")}),0!==n.totalTime?(0,y.jsx)("span",{children:"".concat(n.totalTime," min.")}):null]})]})]})},(0,l.x0)())})):(0,y.jsxs)("button",{className:T,children:[(0,y.jsx)(Z.Z,{name:"planner__add"}),"Add recipe"]})})})})),A="_plannerList_plannerList__IYicJ",H="_plannerList_h3__sRJu6",B=["Breakfast","Lunch","Snack","Teatime","Dinner"];var F=(0,i.$j)((function(n){return{plannerList:(0,c.f)(n)}}))((function(n){var e=n.plannerList,t=(0,a.useState)(null),i=(0,r.Z)(t,2),c=i[0],o=i[1],u=(0,s.UO)();return(0,a.useEffect)((function(){o(e.filter((function(n){return n.date===u.date})))}),[u,e]),(0,y.jsx)("ul",{className:A,children:B.map((function(n){var e;return(0,y.jsxs)("li",{children:[(0,y.jsx)("h3",{className:H,children:n}),(0,y.jsx)(U,{recipes:null===c||void 0===c||null===(e=c.find((function(e){return e.mealType===n})))||void 0===e?void 0:e.meals,mealType:n})]},n)}))})}))},1025:function(n,e,t){t.d(e,{AU:function(){return s},Tx:function(){return c}});var r=t(2388),a=t(6368);r.Z.defaults.baseURL="https://nutritionapp-1-t7373772.deta.app/api";var i=function(n){r.Z.defaults.headers.common.Authorization="Bearer ".concat(n)},s=function(n){return function(e){return e((0,a.bP)()),r.Z.post("/shoppingList/addToShoppingList",n).then((function(n){var t=n.data;e((0,a.s1)(t))})).catch((function(n){return console.log("Error from request >>>",n)}))}},c=function(){return function(n,e){var t=e().auth.token;if(t)return i(t),n(a.gS),r.Z.get("/shoppingList/getShoppingList").then((function(e){var t=e.data;n((0,a.ZN)(t))})).catch((function(n){return console.log("Error>>>",n)}))}}},6478:function(n,e,t){t.d(e,{H3:function(){return l},tH:function(){return d},yf:function(){return u}});var r=t(2388),a=t(6599),i=t.n(a),s=(t(9293),t(476));r.Z.defaults.baseURL="https://nutritionapp-1-t7373772.deta.app/api";var c={text:"Recipe added to planner",className:"success",stopOnFocus:!0,autoClose:5e3,style:{background:"rgba(154, 22, 46, 0.725)"}},o=function(n){r.Z.defaults.headers.common.Authorization="Bearer ".concat(n)},u=function(n){return function(e,t){var a=t().auth.token;if(a)return o(a),e((0,s.Gm)()),r.Z.post("/planner/addItem",n).then((function(n){var t=n.data;return e((0,s.dX)(t)),i()(c).showToast(),e(s.dX)})).catch((function(n){return console.log(n)}))}},l=function(n){return function(e,t){var a=t().auth.token;a&&(o(a),e((0,s.vA)()),r.Z.delete("/planner/removeItem",{data:n}).then((function(n){var t=n.data;return e((0,s.f0)(t))})).catch((function(n){return console.log(n)})))}},d=function(){return function(n,e){var t=e().auth.token;if(t)return o(t),n(s.gB),r.Z.get("/planner/getPlannerList").then((function(e){var t=e.data;n((0,s.sI)(t))})).catch((function(n){return console.log("Error>>>",n)}))}}},4527:function(n,e,t){t.d(e,{f:function(){return r}});var r=function(n){return n.plannerList}}}]);
//# sourceMappingURL=833.08b5adcf.chunk.js.map